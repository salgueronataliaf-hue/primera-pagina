{% extends 'blog/base.html' %}
{% load static %}

{% block titulo %}Mi Perfil{% endblock %}

{% block contenido %}
    <h1 class="mb-4">Mi Perfil de Usuario</h1>
    
    {% if messages %}
        {% for message in messages %}
            <div class="alert alert-{{ message.tags }}">{{ message }}</div>
        {% endfor %}
    {% endif %}

    <div class="row">
        <div class="col-md-4 text-center">
            {% if user.profile.avatar %}
                <img src="{{ user.profile.avatar.url }}" class="img-fluid rounded-circle mb-3" style="width: 150px; height: 150px; object-fit: cover;" alt="Avatar">
            {% else %}
                
                <img src="{% static 'img/default_avatar.png' %}" class="img-fluid rounded-circle mb-3" style="width: 150px; height: 150px; object-fit: cover;" alt="Avatar predeterminado">
            {% endif %}
            
            <a href="{% url 'profile_edit' %}" class="btn btn-warning mt-2">Editar Perfil</a>
        </div>

        <div class="col-md-8">
            <p><strong>Usuario:</strong> {{ user.username }}</p>
            <p><strong>Nombre:</strong> {{ user.first_name|default:"(No definido)" }}</p>
            <p><strong>Apellido:</strong> {{ user.last_name|default:"(No definido)" }}</p>
            <p><strong>Email:</strong> {{ user.email }}</p>
            <hr>
            <h4>Biografía:</h4>
            <p>{{ user.profile.biografia|default:"Aún no has agregado una biografía." }}</p>
        </div>
    </div>
{% endblock %}